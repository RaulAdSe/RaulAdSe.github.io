# Deployment Guide for Barcelona Startup Blog

This guide explains how to update content and deploy changes to your blog at `https://rauladse.github.io`.

## Content Structure

Your blog uses a clean, data-driven architecture where content is managed through markdown files with frontmatter.

### Adding New Blog Posts

1. **Create a new markdown file** in `content/posts/`:
   ```bash
   touch content/posts/your-post-slug.md
   ```

2. **Add frontmatter** at the top of the file:
   ```markdown
   ---
   title: "Your Post Title<br/>With Optional Line Break"
   date: "2025-09-18"
   excerpt: "Brief description of your post<br/>â€¢ Bullet point 1<br/>â€¢ Bullet point 2"
   author: "Raul Adell"
   status: "published"
   readingTime: "5 min read"
   ---

   Your blog post content goes here in markdown format...
   ```

3. **Frontmatter fields explained**:
   - `title`: Use `<br/>` tags for line breaks in titles
   - `date`: Format as YYYY-MM-DD
   - `excerpt`: Shows on listing pages, supports HTML like `<br/>`
   - `status`: Use `"coming-soon"` for teasers or `"published"` for live posts
   - `readingTime`: Optional, only shows for published posts

### Updating Existing Content

- **Home page**: Edit `content/home.md`
- **About page**: Edit `content/about.md`
- **Existing posts**: Edit files in `content/posts/`

## Deployment Process

Your site uses **static site generation** with Next.js and deploys to GitHub Pages.

### Step 1: Make Content Changes
Edit your markdown files locally and test with:
```bash
npm run dev
```
Visit `http://localhost:3000` to preview changes.

### Step 2: Build Static Site
Generate the static files for GitHub Pages:
```bash
npm run build
```
This creates optimized files in the `out/` directory.

### Step 3: Move Files to Root
GitHub Pages serves from the root directory, so move built files:
```bash
cp -r out/* .
rm -rf out/
```

### Step 4: Commit and Push
```bash
# Stage all changes
git add -A

# Commit with descriptive message
git commit -m "Add new post: Your Post Title"

# Push to GitHub
git push origin main
```

### Step 5: Wait for Deployment
GitHub Pages automatically deploys your changes. Wait 1-5 minutes, then visit `https://rauladse.github.io`.

## Important Notes

### Sprite Sheets
- WebP sprite sheets are included for the mosaic background feature
- Only add `.webp` files, not PNG duplicates
- Force add if needed: `git add -f sprite_sheets/*.webp`

### File Structure
```
/
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ posts/           # Blog post markdown files
â”‚   â”œâ”€â”€ home.md         # Home page content
â”‚   â””â”€â”€ about.md        # About page content
â”œâ”€â”€ app/                # Next.js app router pages
â”œâ”€â”€ components/         # React components
â”œâ”€â”€ lib/               # Utility functions
â”œâ”€â”€ public/            # Static assets
â”œâ”€â”€ sprite_sheets/     # WebP files for mosaic
â”œâ”€â”€ index.html         # Generated homepage (DO NOT EDIT)
â”œâ”€â”€ posts/             # Generated post pages (DO NOT EDIT)
â””â”€â”€ about/             # Generated about page (DO NOT EDIT)
```

### What NOT to Edit Directly
- `index.html` - Generated by build process
- Files in `posts/`, `about/`, `_next/` - Generated by build process
- Always edit source files in `content/` and rebuild

## Quick Workflow

For a typical content update:

1. **Edit content**: `content/posts/new-post.md`
2. **Preview**: `npm run dev`
3. **Build**: `npm run build && cp -r out/* . && rm -rf out/`
4. **Deploy**: `git add -A && git commit -m "New post" && git push`

## Troubleshooting

### Website shows 404
- Ensure `index.html` is in the root directory
- Check that the build completed successfully
- Verify GitHub Pages is enabled in repository settings

### Content not updating
- Clear browser cache
- Wait a few minutes for GitHub Pages to rebuild
- Check that you committed and pushed all changes

### Build errors
- Check for syntax errors in markdown frontmatter
- Ensure all required frontmatter fields are present
- Run `npm run dev` to debug locally

## Repository Structure

This is a **clean, minimal setup** with:
- âœ… Essential files only (no build artifacts in git)
- âœ… WebP sprite sheets for optimal performance
- âœ… Data-driven content management
- âœ… Fast static site generation

Keep it minimal and enjoy writing about Barcelona's startup ecosystem! ðŸš€â˜•